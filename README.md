# 安全保障貿易管理 判断支援システム

輸出契約書を自動分析し、外為法と米国EARの適用判断を支援するAIシステム

## 🎯 機能

- **契約書自動分析**: PDFから品目、仕向地、需要者情報を抽出
- **外為法判断フロー**: リスト規制、キャッチオール規制の自動判定
- **米国EAR判断フロー**: ECCN番号、カントリーチャートの確認
- **ECCN番号データベース**: 1500+項目の詳細なECCN番号データ（JSON形式）
- **高度な検索機能**: キーワード・ECCN番号での検索
- **リスク評価**: 総合的なリスクレベルと推奨アクションを提示
- **チャット相談**: 輸出管理に関する質問に回答
- **データ管理**: CSV/JSON形式で規制リストを管理

## 🚀 セットアップ

### 1. 依存関係のインストール

```bash
pip install -r requirements.txt
```

### 2. 環境変数の設定

`.env`ファイルにOpenAI APIキーを設定してください：

```
OPENAI_API_KEY=your_api_key_here
```

### 3. アプリケーションの起動

```bash
streamlit run app.py
```

ブラウザで `http://localhost:8501` が自動的に開きます。

## 📖 使い方

### 契約書分析

1. 「契約書分析」タブを選択
2. 輸出契約書PDFをアップロード、または手動で情報を入力
3. 「分析開始」ボタンをクリック
4. AI分析結果を確認
5. 必要に応じて結果をダウンロード

### チャット相談

1. 「チャット相談」タブを選択
2. 輸出管理に関する質問を入力
3. AIが外為法やEARに基づいて回答

### データ管理

1. 「データ管理」タブを選択
2. ECCN番号データベース（1500+項目）を検索・閲覧
   - カテゴリー別統計表示
   - キーワード検索（品目名、説明文）
   - ECCN番号での直接検索
3. カントリーグループ、エンティティリストの確認
4. カスタム規制リストのCSVアップロード

## ⚠️ 重要な注意事項

- **本システムは参考情報を提供するものであり、法的助言ではありません**
- 最終的な判断は必ず専門家や関係当局にご相談ください
- 経済産業省安全保障貿易審査課：03-3501-2801
- CISTEC（安全保障貿易情報センター）：https://www.cistec.or.jp

## 📋 判断フロー

### 外為法（P.6-16）
1. 貨物の輸出 or 技術の提供に該当するか
2. リスト規制に該当するか（該非判定）
3. 許可例外が適用できるか
4. 包括許可が適用できるか
5. キャッチオール規制の懸念があるか

### 米国EAR（P.17-21）
1. EAR対象品目の再輸出に該当するか
2. ECCN番号の有無
3. カントリーチャートの確認
4. 許可例外の適用
5. 禁輸国・エンドユース・エンドユーザー規制

## 🛠️ 技術スタック

- **フロントエンド**: Streamlit
- **LLM**: OpenAI GPT-4
- **PDF処理**: PyPDF2, pdfplumber
- **データ処理**: Pandas
- **環境変数管理**: python-dotenv

## 📁 プロジェクト構成

```
Economic Security Professor/
├── app.py                          # メインアプリケーション
├── knowledge_base.py               # ナレッジベース（外為法・米国EAR）
├── utils.py                        # ユーティリティ関数
├── requirements.txt                # Python依存関係
├── .env                           # 環境変数（API keys）
├── eccnnumber.json                # ECCN番号データベース（1500+項目）★NEW
├── README.md                      # このファイル
├── USAGE_GUIDE.md                 # 詳細使用ガイド
├── QUICK_START.md                 # クイックスタート
└── sample_data/                   # サンプルデータ
    ├── eccn_list.csv             # ECCN番号リスト（基本）
    ├── country_groups.csv        # カントリーグループ
    └── entity_list_sample.csv    # エンティティリスト（サンプル）
```

## 🔮 今後の拡張予定

- [ ] より詳細な規制データベースの統合
- [ ] 多言語対応
- [ ] エクスポート形式の拡充（PDF、Excel等）
- [ ] 過去の分析履歴の保存・検索
- [ ] ユーザー認証機能
- [ ] 中国の輸出管理規制への対応

## 📞 サポート

質問や問題がある場合は、輸出管理の専門家にご相談ください。

## 📜 ライセンス

本システムは教育・研究目的で作成されています。
商用利用の際は適切なライセンス確認を行ってください。

---

**免責事項**: 本システムで提供される情報は参考情報です。実際の輸出管理業務においては、必ず専門家や関係当局に確認してください。

